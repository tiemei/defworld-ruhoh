<!DOCTYPE html>
<html lang="en" xmlns:wb=“http://open.weibo.com/wb”>
  <head>
    <meta charset="utf-8">
    <title>Blogs</title>
    <meta name="description" content="博客summary">
    <meta name="author" content="tiemei">

    <!-- Le HTML5 shim, for IE6-8 support of HTML elements -->
    <!--[if lt IE 9]>
      <script src="http://html5shim.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->

    <!-- Le styles -->
    <link href="/assets/twitter/stylesheets/bootstrap.min.css?0.4053118836707923" type="text/css" rel="stylesheet" media="all">
<link href="/assets/twitter/stylesheets/style.css?0.49218604149421974" type="text/css" rel="stylesheet" media="all">
<link href="/assets/twitter/widgets/google_prettify/stylesheets/twitter-bootstrap.css?0.4570145029445618" type="text/css" rel="stylesheet" media="all">

 

    <!-- Le fav and touch icons -->
  <!-- Update these with your own images
    <link rel="shortcut icon" href="images/favicon.ico">
    <link rel="apple-touch-icon" href="images/apple-touch-icon.png">
    <link rel="apple-touch-icon" sizes="72x72" href="images/apple-touch-icon-72x72.png">
    <link rel="apple-touch-icon" sizes="114x114" href="images/apple-touch-icon-114x114.png">
  -->
  <script src="http://tjs.sjs.sinajs.cn/open/api/js/wb.js" type="text/javascript" charset="utf-8"></script>
  </head>

  <body>

    <div class="navbar">
      <div class="navbar-inner">
        <div class="container">
          <a class="touxiang" href="http://weibo.com/wgdkfk">
            <img src="https://farm6.staticflickr.com/5577/14680769772_ac1af8df86.jpg" width="40" height="40" >
          </a>
          <a class="brand" href="/">tiemei</a>
          <ul class="nav">
              
                <li><a href="/categories">Categories</a></li>
              
                <li><a href="/tools">Tools</a></li>
          </ul>
        </div>
      </div>
    </div>

    <div class="container">

      <div class="content">
        <div class="page-header">
  <h1>Blogs </h1>
</div>

<div class="row">
  <div class="span12">
    <h2>Latest Posts</h2>

<div class="post">
  <h3 class="title"><a href="/2014-12/java-annotation.html">笔记 - java annotation</a> <span class="date">2014-12-18</span></h3>

  <h1 id="toc_0">分类</h1>

<p>java annotation主要分为以下几类：  </p>

<ul>
<li>Compiler instructions</li>
<li>Build-time instructions</li>
<li>Runtime instructions</li>
</ul>

<p>Compiler instructions比如Java&#39;s Builtin Annotations，give instructions to the Java compiler：    </p>

<ul>
<li>@Deprecated</li>
<li>@Override</li>
<li>@SuppressWarnings</li>
</ul>

<p>The build process includes generating source code, compiling the source, generating XML files (e.g. deployment descriptors), packaging the compiled code and files into a JAR file etc. Building the software is typically done by an automatic build tool like Apache Ant or Apache Maven. Build tools may scan your Java code for specific annotations and generate source code or other files based on these annotations. Build-time instructions比如</p>


  <div class="more">
    <a href="/2014-12/java-annotation.html" class="btn">read more..</a>
  </div>
</div>

<div class="post">
  <h3 class="title"><a href="/2014-12/r-db.html">关系型数据库笔记</a> <span class="date">2014-12-05</span></h3>

  <h1 id="toc_0">1NF 2NF 3NF ...</h1>

<p>范式（NF）：一张数据表的表结构所符合的某种设计标准的级别。要求逐级提高，而高级的同时满足低级的。  </p>

<h2 id="toc_1">1NF</h2>

<p><img src="https://farm9.staticflickr.com/8616/15925324316_09846f9765_z.jpg" alt="1NF"> </p>

<p>如上图进货和销售又细分了属性，不满足1NF。<br>
每个属性都不可再分。因为真实的DB每列都不可再分的，所以能存到真实DB里就说明满足1NF。</p>

<h2 id="toc_2">2NF</h2>

<p><img src="https://farm8.staticflickr.com/7495/15786427597_96178e86ab.jpg" alt="2NF">  </p>

<p>如上图，满足1NF，但存在以下问题：  </p>

<ol>
<li>每一名学生的学号、姓名、系名、系主任这些数据重复多次。每个系与对应的系主任的数据也重复多次——<strong>数据冗余过大</strong></li>
<li>新建一个系，无法将系名与系主任的数据单独添加到数据库——<strong>插入异常</strong> </li>
<li>删除某个系所欲学生记录，这个系的数据被删除掉 —— <strong>删除异常</strong> </li>
<li>某同学转系，需要修改三条记录 —— <strong>修改异常</strong> </li>
</ol>


  <div class="more">
    <a href="/2014-12/r-db.html" class="btn">read more..</a>
  </div>
</div>

<div class="post">
  <h3 class="title"><a href="/2014-11/mysql-command.html">mysql常用命令</a> <span class="date">2014-11-26</span></h3>

  <ul>
<li><code>mysqldump --set-gtid-purged=OFF -h host -u user_name -p  --databases database &gt; ~/dropbox/work/db/database.sql</code> dump整个数据库到本地文件</li>
<li><code>mysql -h host -u user_name -p</code>登录数据库</li>
</ul>

<h2 id="toc_0">mysql dump</h2>

<ul>
<li><code>-d</code> 不dump数据</li>
<li><p><code>--tables</code> 指定哪几个表</p></li>
<li><p><code>show databases;</code>显示所有数据库</p></li>
<li><p><code>user database;</code>使用哪个数据库</p></li>
<li><p><code>show tables;</code>显示所有表</p></li>
</ul>


  <div class="more">
    <a href="/2014-11/mysql-command.html" class="btn">read more..</a>
  </div>
</div>

<div class="post">
  <h3 class="title"><a href="/2014-11/base-lvs.html">基础 - lvs</a> <span class="date">2014-11-18</span></h3>

  <p>基础系列一，说说对lvs的理解。   </p>

<h2 id="toc_0">首先理解为什么要有lvs</h2>

<p>[典型的应用结构]()  </p>

<h3 id="toc_1">lvs分类</h3>

<h3 id="toc_2">一个简单的lvs配置</h3>

<pre><code class="bash">ipvsadm -A -t 10.101.86.153:80 -s rr
ipvsadm -a -t 10.101.86.153:80 -r 10.101.86.153:8080 -m
# 临时打开网卡间转发
echo 1 &gt;/proc/sys/net/ipv4/ip_forward
</code></pre>


  <div class="more">
    <a href="/2014-11/base-lvs.html" class="btn">read more..</a>
  </div>
</div>

<div class="post">
  <h3 class="title"><a href="/2014-11/url-encode.html">url encode</a> <span class="date">2014-11-16</span></h3>

  <h2 id="toc_0">BitSet</h2>

<p>{[0],[0],[0],[0],[0],[0],[0],[0]} * 4</p>

<p>java用long[]存储（取名word），而bitset可以理解为一个bit[]，这里就需要有一个映射bitIndex -&gt; wordIndex。需要注意的是，例如7并不是直接换成bit形式，而是位于bit[]的第七位。  </p>

<pre><code class="java">private long[] words; // 真实的用来存储bitIndex的内存空间
private final static int ADDRESS_BITS_PER_WORD = 6;
private final static int BITS_PER_WORD = 1 &lt;&lt; ADDRESS_BITS_PER_WORD; // 1 &lt;&lt; 2 = 2^6 = 64，每个long存储存64个bitIndex

private static int wordIndex(int bitIndex) {
    return bitIndex &gt;&gt; ADDRESS_BITS_PER_WORD; 
}
</code></pre>


  <div class="more">
    <a href="/2014-11/url-encode.html" class="btn">read more..</a>
  </div>
</div>

<div class="post">
  <h3 class="title"><a href="/2014-11/node-articles.html">node相关文章积累</a> <span class="date">2014-11-05</span></h3>

  <p>node.js某个文件foo.js，直接执行node foo.js会执行main方法，而require(&#39;foo&#39;)时不会执行：<br>
<a href="http://stackoverflow.com/questions/4981891/node-js-equivalent-of-pythons-if-name-main">《node.js equivalent of python&#39;s if <strong>name</strong> == &#39;<strong>main</strong>&#39;》</a>  </p>


  <div class="more">
    <a href="/2014-11/node-articles.html" class="btn">read more..</a>
  </div>
</div>

<div class="post">
  <h3 class="title"><a href="/2014-11/system-evn-prepare.html">系统环境准备</a> <span class="date">2014-11-03</span></h3>

  <h1 id="toc_0">Redhat</h1>

<h2 id="toc_1">ruby</h2>

<pre><code class="bash">wget &#39;http://curl.haxx.se/ca/cacert.pem&#39;
curl --cacert cacert.pem -sSLk https://get.rvm.io | bash -s stable
source ~/.profile
source ~/.rvm/scripts/rvm
rvm install 1.9.2
rvm use 1.9.2 
</code></pre>


  <div class="more">
    <a href="/2014-11/system-evn-prepare.html" class="btn">read more..</a>
  </div>
</div>

<div class="post">
  <h3 class="title"><a href="/2014-10/node-js-prmoise.html">Node.js Promise/Deferred入门</a> <span class="date">2014-10-16</span></h3>

  <p>Promise/Deffered模式只是解决异步编程的一个模式，我这里一个一个来说吧。  </p>

<h2 id="toc_0">回调/高阶函数/函数编程</h2>

<p><strong>高阶函数</strong>编程是指，函数可作为参数或返回值。其中<strong>偏函数</strong>是其中一种应用，举个例子：  </p>

<pre><code class="javascript">// Underscore库提供
// 生成一个需要调用多次才真正执行的函数
_.after = function(times, func) {
    if (times &lt;= 0) return func();
    return function() {
        if (--times &lt; 1) {
            return func.apply(this, arguments);
        }
    } 
}
</code></pre>


  <div class="more">
    <a href="/2014-10/node-js-prmoise.html" class="btn">read more..</a>
  </div>
</div>

<div class="post">
  <h3 class="title"><a href="/2014-09/node-how-to-write-node-async-code.html">Node的异步代码怎么写</a> <span class="date">2014-09-19</span></h3>

  <h1 id="toc_0">函数式编程</h1>

<p>函数作为js中的一等公民，可以作为参数或返回值传递，此谓高阶函数。偏函数也是基于此，返回一个函数，但是这个返回的函数一部分已经预置了，举个例子：  </p>

<pre><code class="js">// 一个调用多次才会执行的函数
_.after = function(times, func) {
    if (times &lt;= 0)return func();
    return function() {
        if (--times &lt; 1) {
            return func.apply(this, arguments);
        }
    }
}
</code></pre>


  <div class="more">
    <a href="/2014-09/node-how-to-write-node-async-code.html" class="btn">read more..</a>
  </div>
</div>

<div class="post">
  <h3 class="title"><a href="/2014-09/node-js-async-i-o.html">聊聊Node.js的异步I/O</a> <span class="date">2014-09-19</span></h3>

  <h1 id="toc_0">阻塞vs非阻塞，同步vs异步</h1>

<p>阻塞是你做一件事不能立即得到返回，否则是非阻塞。同步是做完一件事，做下一件事，反之异步。<br>
阻塞非阻塞都是同步，异步就无所谓阻塞非阻塞了。  </p>

<h1 id="toc_1">各种I/O模型</h1>

<p>一个输入主要包括两个阶段：  </p>

<ol>
<li>等待数据到达</li>
<li>将数据从内核空间拷贝到用户空间</li>
</ol>

<p>Blocking I/O model:  </p>

<p><img src="https://farm6.staticflickr.com/5574/15261520936_c092d571bd.jpg" alt="Blocking I/O model">  </p>

<p>这里以UDP为例，因为UDP的datagram ready只要一个datagram到了就行了，TCP相对复杂很多。这里我们发现系统层面一个系统调用需要等待1，2都完成后才能返回。  </p>


  <div class="more">
    <a href="/2014-09/node-js-async-i-o.html" class="btn">read more..</a>
  </div>
</div>

  </div>
</div>

      </div>

      <footer>
        <p>&copy; tiemei 2012 
          with help from <a href="http://ruhoh.com" target="_blank" title="The Definitive Technical Blogging Framework">ruhoh</a>
          and <a href="http://twitter.github.com/bootstrap/" target="_blank">Twitter Bootstrap</a>
        </p>
        <p>
        <script src="http://s9.cnzz.com/stat.php?id=5379369&web_id=5379369&online=1&show=line" language="JavaScript"></script>
        </p>
      </footer>

    </div> <!-- /container -->

    <!-- Google Prettify -->
<script src="http://cdnjs.cloudflare.com/ajax/libs/prettify/188.0.0/prettify.js"></script>
<script>
  var pres = document.getElementsByTagName("pre");
  for (var i=0; i < pres.length; ++i) {
    pres[i].className = "prettyprint linenums";
  }
  prettyPrint();
</script>
<!-- end Google Prettify -->
    <script>
var clicky_site_ids = clicky_site_ids || [];
clicky_site_ids.push(defworld.com);
(function() {
  var s = document.createElement('script');
  s.type = 'text/javascript';
  s.async = true;
  s.src = '//static.getclicky.com/js';
  ( document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0] ).appendChild( s );
})();
</script>
<noscript><p><img alt="Clicky" width="1" height="1" src="//in.getclicky.com/defworld.comns.gif" /></p></noscript>
  </body>
</html>
